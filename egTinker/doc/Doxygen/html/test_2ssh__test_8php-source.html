<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>egTinker: ssh_test.php Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>ssh_test.php</h1><a href="test_2ssh__test_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 &lt;?php
00002 
<a name="l00003"></a><a class="code" href="test_2ssh__test_8php.html#a0">00003</a> <a class="code" href="config_8php.html#a21">$debug</a> = TRUE;
00004 
00005 require 'ssh.php';
00006 
<a name="l00007"></a><a class="code" href="test_2ssh__test_8php.html#a1">00007</a> <a class="code" href="ssh__test_8php.html#a1">$rem</a> = <span class="keyword">new</span> <a class="code" href="classSExec.html">SExec</a>;
00008 
00009 <span class="keywordflow">if</span> (isset($debug_passthru))
00010     <a class="code" href="ssh__test_8php.html#a1">$rem</a>-&gt;ssh_passthru(<span class="stringliteral">"jruser@cnb.uam.es"</span>, <span class="stringliteral">"kndlaria"</span>, <span class="stringliteral">"ls"</span>);
00011 
00012 <span class="keywordflow">if</span> (isset($debug_exec)) {
00013     <a class="code" href="ssh__test_8php.html#a1">$rem</a>-&gt;ssh_exec(<span class="stringliteral">"jruser@cnb.uam.es"</span>, <span class="stringliteral">"kndlaria"</span>, <span class="stringliteral">"ls"</span>, $out);
00014     print_r($out);
00015     foreach ($out as $line)
00016         echo $line . <span class="stringliteral">"\n"</span>;
00017 }
00018 
00019 <span class="keywordflow">if</span> (isset($debug_copy))
00020     <a class="code" href="ssh__test_8php.html#a1">$rem</a>-&gt;ssh_copy(<span class="stringliteral">"/data/www/EMBnet/cgi-src/Grid/egTinker/src/SSH"</span>, <span class="stringliteral">"jr@cnb.uam.es:."</span>, <span class="stringliteral">"1/1K way"</span>);
00021 
00022 <span class="keywordflow">if</span> (isset($debug_shell))
00023     <a class="code" href="test_2ssh__test_8php.html#a2">$p</a> = <a class="code" href="ssh__test_8php.html#a1">$rem</a>-&gt;ssh_open_shell(<span class="stringliteral">"jruser@cnb.uam.es"</span>, <span class="stringliteral">"kndlaria"</span>);
00024 
<a name="l00025"></a><a class="code" href="test_2ssh__test_8php.html#a2">00025</a> <a class="code" href="test_2ssh__test_8php.html#a2">$p</a> = <a class="code" href="ssh__test_8php.html#a1">$rem</a>-&gt;ssh_open_command(<span class="stringliteral">"jruser@cnb.uam.es"</span>, <span class="stringliteral">"kndlaria"</span>, <span class="stringliteral">"ls"</span>);
00026 
00027 echo <span class="stringliteral">"after open I got this\n"</span>;
00028 print_r($p);
00029 
00030 <span class="preprocessor">#echo "sending touch beenhere\n";</span>
00031 <span class="preprocessor"></span><span class="preprocessor">#fwrite($p['std_in'], "touch beenhere\n");</span>
00032 <span class="preprocessor"></span>
00033     echo <span class="stringliteral">"flushing pipes\nstdout\n"</span>;
00034     rewind($p[<span class="stringliteral">"std_out"</span>]);
00035     <span class="keywordflow">do</span> {
00036         $line = fgets($p[<span class="stringliteral">"std_out"</span>], 1024);
00037         echo <span class="stringliteral">"&gt; "</span>.$line.<span class="stringliteral">"\n"</span>;
00038     } <span class="keywordflow">while</span> (! feof($p[<span class="stringliteral">"std_out"</span>]) );;
00039 <span class="preprocessor">#    echo "stderr\n";</span>
00040 <span class="preprocessor"></span><span class="preprocessor">#    do {</span>
00041 <span class="preprocessor"></span><span class="preprocessor">#       $line = fgets($p["std_err"], 1024);</span>
00042 <span class="preprocessor"></span><span class="preprocessor">#       echo "&gt;&gt; ".$line."\n";</span>
00043 <span class="preprocessor"></span><span class="preprocessor">#    } while (! feof($p['std_err']) &amp;&amp; (strlen($line) != 0));;</span>
00044 <span class="preprocessor"></span>
00045 
00046 <a class="code" href="ssh__test_8php.html#a1">$rem</a>-&gt;ssh_close($p);
00047 
<a name="l00048"></a><a class="code" href="test_2ssh__test_8php.html#a3">00048</a> <a class="code" href="results_8php.html#a1">exit</a>;
00049 
00050 ?&gt;
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Thu Apr 21 15:51:36 2005 for egTinker by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > </a>1.3.6 </small></address>
</body>
</html>
