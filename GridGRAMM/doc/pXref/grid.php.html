<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.4.1 : GridGRAMM v1.00 : Detail view of grid.php</title>
    <link rel="stylesheet" href="/opt/tools/phpxref-0.4.1/sample.css" type="text/css">
    <link rel="stylesheet" href="/opt/tools/phpxref-0.4.1/sample-print.css" type="text/css" media="print">
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#330505" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of GridGRAMM v1.00</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.4.1 at Fri Apr 15 16:46:00 2005 -->
<!-- PHPXref (c) 2000-2003 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='';
subdir='';
filename='grid.php.html';
handleNavFrame(relbase, subdir, filename);
// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--
function pesc(str) {
    str=str.replace(/^(con|prn|aux|clock\1nul|lpt\d|com\d)$/i, "-$1");
    str=str.replace(/^(con|prn|aux|clock\1nul|lpt\d|com\d)\./i, "-$1.");
    return str;
}
function jump() {
    if (document.search.classname.value.length) {
		classname=document.search.classname.value.replace(/[()]/g,'');
		classname=document.search.classname.value.toLowerCase();
        window.location=relbase+'_classes/'+escape(escape(pesc(classname)))+ext;
	}
    if (document.search.funcname.value.length) {
		funcname=document.search.funcname.value.replace(/[()]/g,'');
		funcname=document.search.funcname.value.toLowerCase();
        window.location=relbase+'_functions/'+escape(escape(pesc(funcname)))+ext;
	}
    if (document.search.varname.value.length) {
		varname=document.search.varname.value.replace(/[$]/g,'');
        window.location=relbase+'_variables/'+escape(escape(pesc(varname)))+ext;
	}
    if (document.search.tablename.value.length) {
		tablename=document.search.tablename.value.toLowerCase();
        window.location=relbase+'_tables/'+escape(escape(pesc(tablename)))+ext;
	}
    return false;
}

document.writeln('<table align="right" border="0" cellspacing="0" cellpadding="0" class="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('Lookup');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname" onChange=\'jump()\'><br>');
document.writeln('<a class="searchbox-body" href="_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname" onChange=\'jump()\'><br>');
document.writeln('<a class="searchbox-body" href="_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname" onChange=\'jump()\'><br>');
document.writeln('<a class="searchbox-body" href="_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename" onChange=\'jump()\'>');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div class="details-summary">
<h2><a href="./index.html">/</a> -> <a href="grid.php.source.html">grid.php</a> (summary)</h2>
<p class="viewlinks">[<a href="grid.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]</p>
<p><b>(no description)</b></p>
<table>
<tr><td align="right">Author: </td><td>(None specified)</td></tr>
<tr><td align="right">File Size: </td><td>866 lines (32 kb)</td></tr>
<tr><td align="right">Included or required: </td><td>1 time</td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>0 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>0 files</td></tr>
</table>
<h3>Defines 1 class</h3>
<div class="inset">
<p><b>grid::</b> (20 methods):<br>
&nbsp;&nbsp;<a href="#grid">grid</a>()<br>
&nbsp;&nbsp;<a href="#set_user">set_user</a>()<br>
&nbsp;&nbsp;<a href="#set_host">set_host</a>()<br>
&nbsp;&nbsp;<a href="#set_password">set_password</a>()<br>
&nbsp;&nbsp;<a href="#set_passphrase">set_passphrase</a>()<br>
&nbsp;&nbsp;<a href="#set_work_dir">set_work_dir</a>()<br>
&nbsp;&nbsp;<a href="#set_error_log">set_error_log</a>()<br>
&nbsp;&nbsp;<a href="#get_connection_status">get_connection_status</a>()<br>
&nbsp;&nbsp;<a href="#get_init_status">get_init_status</a>()<br>
&nbsp;&nbsp;<a href="#pconnect">pconnect</a>()<br>
&nbsp;&nbsp;<a href="#pdisconnect">pdisconnect</a>()<br>
&nbsp;&nbsp;<a href="#pinitialize">pinitialize</a>()<br>
&nbsp;&nbsp;<a href="#pdestroy">pdestroy</a>()<br>
&nbsp;&nbsp;<a href="#pjob_submit">pjob_submit</a>()<br>
&nbsp;&nbsp;<a href="#pjob_get_id">pjob_get_id</a>()<br>
&nbsp;&nbsp;<a href="#pjob_status">pjob_status</a>()<br>
&nbsp;&nbsp;<a href="#pjob_retrieve">pjob_retrieve</a>()<br>
&nbsp;&nbsp;<a href="#initialize">initialize</a>()<br>
&nbsp;&nbsp;<a href="#destroy">destroy</a>()<br>
&nbsp;&nbsp;<a href="#job_submit">job_submit</a>()<br>
</p>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="grid"><b>grid</b></a>&nbsp;&nbsp;- <a href="_classes/grid.html"><small>X-Ref</small></a>
</p>
<b>Grid access class<BR>
</b><br>
CAUTION: THIS CLASS IS UNDERGOING A GENERAL OVERHAUL. DO NOT USE<BR>
NOW.<BR>
<BR>
This class allows you to connect to a remote Grid UI server and<BR>
launch and monitor jobs on it.<BR>
<BR>
The reason for this class is mostly one of resilience: if you<BR>
put all your services directly on a GrUI host, then whenever<BR>
that host if offline, your services will be as well.<BR>
<BR>
An alternative is to replicate the services on various GrUI nodes.<BR>
<BR>
Or better yet: use this class and set up your services wherever<BR>
you want. You may put them on an HA system and ensure this way<BR>
their continuous availability. Your service will be always up<BR>
and running, ready to accept jobs.<BR>
<BR>
Your next problem is dealing with the Grid UI. You still need<BR>
to log-in on a Grid access point to submit your jobs. But once<BR>
you have detached from a specific GrUI node, you are free to<BR>
attempt a connection to a given remote access point, and if it<BR>
is available (and while it is) submit jobs as needed. If at any<BR>
time it is not available, nothing is lost: just look for another<BR>
one and use this to continue working. You may thus enter the<BR>
grid through any door.<BR>
<BR>
There is a side advantage too: with your services on a GrUI node<BR>
you can only launch jobs from it. With your services detached from<BR>
any given Grid door, you may use _any_ AND _as many_ as you want:<BR>
this means you may launch jobs using various GrUI nodes simultaneously<BR>
if you so wish. And even split the jobs througho various, separate<BR>
Grids if you feel like it, hence potentially increasing your<BR>
throughput and computing power, harnessing even more resources.<BR>
<BR>
Detaching your jobs from the GrUI has one serious drawback though:<BR>
all your job information must travel from your service user interface<BR>
to the grid user interface through the Internet, which may be<BR>
potentially dangerous. We deal with this security issue using SSH<BR>
to handle all communications and provide encryption. As long as<BR>
you use strong passwords you may feel secure. Actually, it is as<BR>
weak (or strong) as working directly on the GrUI node: access to<BR>
it is still managed by standard password mechanisms and subject to<BR>
the same types of attacks. However, remember you now have an extra<BR>
system (the front-end) to maintain and secure. Please, be always<BR>
cautious with any server you use.<BR>
<BR>
Sounds convincing? Then read ahead to learn how to use this class.<BR>
<BR>
Using this class you may access the Grid in two different ways:<BR>
connected or disconnected mode (or if you prefer, using persistent<BR>
connections or disconnected mode).<BR>
<BR>
It is important to understand the differences among them:<BR>
<BR>
PERSISTENT CONNECTIONS<BR>
<BR>
When working with persistent connections, you first issue a<BR>
Grid::connect() call to stablish a connection to the GrUI. This will<BR>
be kept open during all the time until you call Grid::disconnect().<BR>
All commands issued will travel over the same wire, and hence<BR>
communications will be more efficient.<BR>
<BR>
Output of all your commands is collected on a single I/O channel<BR>
that persists during the whole session.<BR>
<BR>
On the minus side, persistent connections drive all communications<BR>
between your front-end and the grid access point through pipes, and<BR>
are subject to serious deadlock problems. You must make sure you<BR>
avoid them by clearing periodically the communication buffers. In<BR>
addition, error checking is relayed to YOU: all information will<BR>
travel through the persistent I/O channels, and it will be YOUR<BR>
responsability to detect errors and act accordingly. Debugging is<BR>
thus more difficult.<BR>
<BR>
DISCONNECTED MODE<BR>
<BR>
When working in disconnected mode, the connections are open and<BR>
closed for each command you issue. This imposes a heavier tax<BR>
on your communications, which may become serious for submitting<BR>
huge numbers of jobs.<BR>
<BR>
Each command will return its output separately since it uses a<BR>
new I/O channel every time.<BR>
<BR>
On the plus side, you will retrieve job completion status inmediately<BR>
and won't risk deadlocks while running remote jobs. Development and<BR>
debugging will be a lot easier.<BR>
<BR>
JOB MANAGEMENT<BR>
<BR>
In order to submit your jobs to the grid you need to understand how<BR>
job management has been defined for this class. On the command line<BR>
you would have a lot more versatility, but to make this class more<BR>
useful some compromises had to be reached. We have defined a strict<BR>
protocol to generate/prepare your jobs before submitting them to<BR>
the grid, and you must stick to it if you want to avoid problems.<BR>
<BR>
To understand why this has been designed the way it is, you should<BR>
keep in mind that you will be preparing your jobs on one (or many)<BR>
front-end and submitting them from it to one (or many) GrUI nodes.<BR>
Further to it, this has been designhed to make it easy to deploy<BR>
web-based services for users. Therefore many similar jobs might<BR>
be launched simultaneously and we need some way to avoid collusion<BR>
among them. To avoid one job stepping over other we must isolate<BR>
every one from each other. This means providing an isolated environment<BR>
for every job.<BR>
<BR>
The easiest way to achieve our goal is to have every job submitted<BR>
placed on an independent directory (which we pair to the job name).<BR>
For single jobs, this means that you should make sure that no two<BR>
potentially simultaneous/overlapping jobs have the same name (i.e.<BR>
are stored in the same directory so there is no risk one overwrites<BR>
files of the other).<BR>
<BR>
Sometimes this may result inconvenient to you. E.g. if your whole job<BR>
is submitted split into many separate sub-jobs (which each is a separate<BR>
job from the point of view of the grid) you may want to follow some<BR>
naming convention for your sub-jobs that makes it easier to identify<BR>
and keep track of them. In this case, if you had two simultaneous<BR>
runs, then the names would collide.<BR>
<BR>
For example, let's say you are rendering frames of a movie and want<BR>
to identify each job by frame number: 0000, 0001, 0002, 0003... If<BR>
you now try to generate a second movie while the first is being<BR>
processed, then the frames of the second movie (named as well 0000,<BR>
0001, etc...) would overwrite the frames of the first one.<BR>
Generating random names for each frame would be an option, but too<BR>
cumbersome and expensive as you would need to keep track of the<BR>
association of the random names with the actual frames.<BR>
<BR>
To deal with this scenario we define 'sessions'. A session is identified<BR>
by a unique identifier, and guarantees that all jobs belonging to this<BR>
session are kept separate from similarly named jobs from other sessions.<BR>
<BR>
Actually when you create a session, what we actually do is create<BR>
a subdirectory in the GrUI and direct all further jobs to this<BR>
subdirectory. This way, jobs of two sessions may have the same name<BR>
and not step into each other.<BR>
<BR>
PREPARING JOBS FOR THE GRID<BR>
<BR>
To prepare a job for the grid you must assign it a name. The same<BR>
preacutions that apply to any local job hold for your grid work too:<BR>
if various simultaneous jobs of the same kind may be run, then each<BR>
must be kept separate from the others by using a different name.<BR>
<BR>
Once you have decided the name, you must create a directory locally<BR>
with the same name as your job. In this directory you must install<BR>
everything needed to run your job: executables, libraries, input<BR>
data and a JDL file.<BR>
<BR>
The JDL file defines the work that we will ask the grid to carry<BR>
out. Since each single job gets its own directory, you will only<BR>
submit one JDL file for each, and to make processing easier, we<BR>
request that this JDL file have a fixed name: &quot;job.jdl&quot;.<BR>
<BR>
The grid processing will generate various auxiliary files, for internal<BR>
housekeeping. Again, for simplicity, we have chosen to call each of<BR>
them 'job.*', i.e. 'job.' something. This means that other than 'job.jdl'<BR>
you should NOT create any file named job.anything on your job directory<BR>
to avoid collusion with possible temporary files.<BR>
<BR>
In brief, to prepare a job:<BR>
- select a name<BR>
- create a directory named after the job<BR>
- populate this directory with all files needed to run your job<BR>
- generate the file 'job.jdl' with the description of the work to<BR>
be carried out by the grid<BR>
- avoid having files named 'job.*' (starting with 'job.')<BR>
<BR>
SUBMITTING JOBS TO THE GRID<BR>
<BR>
First consider whether you will be using unique job names or if<BR>
you will follow a convenient naming convention that may cause name<BR>
collisions with other jobs.<BR>
<BR>
If you feel pretty safe that the job name is unique (e.g. has been<BR>
generated using one or more random strings), then simply call the<BR>
appropriate *job_submit() function.<BR>
<BR>
If you are using names that have low entropy or reusing names for<BR>
similar jobs then it is advisable that you first call one of the<BR>
*new_session() routines to ensure all your jobs will be kept isolated<BR>
from other similarly named jobs, and then use the *job_submit()<BR>
routines to send your jobs.<BR>
<BR>
For the curious: when you submit your job, the directory and all<BR>
of its contents will be sent to the remote Grid UI selected and<BR>
then the 'job.jdl' will be submitted to the grid. In the process,<BR>
several files will be generated holding information about your<BR>
job identity in the grid context that will be kept for housekeeping<BR>
and future reference.<BR>
<BR>
The above is to be kept in mind when submitting light or numerous<BR>
jobs: the transfer time may become sensibly relevant. Please do<BR>
take it into consideration in your equations when designing jobs<BR>
for the grid using this class. You may find it interesting to first<BR>
store all or some of your job data/execs on the grid and keep them<BR>
already there instead of having to copy them.<BR>
<BR>
Grid file management routines are not included yet, but are intended<BR>
for a future release of this class.<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="grid" href="grid.php.source.html#l241">grid</a>()&nbsp;&nbsp;
<a href="_functions/grid.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor for the class<BR>
</b><BR>Set the values for the class variables using defaults provided in<BR>
'config.php'<BR>
<BR>
These defaults can be overridden using the functions provided below.<BR>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_user" href="grid.php.source.html#l260">set_user</a>(<a href="_variables/user.html">$user</a>)&nbsp;&nbsp;
<a href="_functions/set_user.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>set the Grid user name<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_host" href="grid.php.source.html#l271">set_host</a>(<a href="_variables/host.html">$host</a>)&nbsp;&nbsp;
<a href="_functions/set_host.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>set the name of the Grid access host<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_password" href="grid.php.source.html#l284">set_password</a>(<a href="_variables/pass.html">$pass</a>)&nbsp;&nbsp;
<a href="_functions/set_password.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>set the password for the remote grid user/server<BR>
</b><BR>This is specific to the remote UI server selected.<BR>
<BR>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_passphrase" href="grid.php.source.html#l296">set_passphrase</a>(<a href="_variables/pass.html">$pass</a>)&nbsp;&nbsp;
<a href="_functions/set_passphrase.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>set the passphrase for the remote grid user<BR>
</b><BR>This is grid-wise and independent of the UI-node used.<BR>
<BR>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_work_dir" href="grid.php.source.html#l306">set_work_dir</a>(<a href="_variables/wd.html">$wd</a>)&nbsp;&nbsp;
<a href="_functions/set_work_dir.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>set working directory on the Grid server<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_error_log" href="grid.php.source.html#l317">set_error_log</a>(<a href="_variables/errlog.html">$errlog</a>)&nbsp;&nbsp;
<a href="_functions/set_error_log.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>set error log<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_connection_status" href="grid.php.source.html#l322">get_connection_status</a>()&nbsp;&nbsp;
<a href="_functions/get_connection_status.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_init_status" href="grid.php.source.html#l327">get_init_status</a>()&nbsp;&nbsp;
<a href="_functions/get_init_status.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="pconnect" href="grid.php.source.html#l405">pconnect</a>()&nbsp;&nbsp;
<a href="_functions/pconnect.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>open a persistent connection to the Grid UI server<BR>
</b><BR>The Grid User Interface Server is the entry point to the Grid<BR>
for users and user applications. This is where jobs are launched from.<BR>
<BR>
This package has been designed to be able to be installed in any<BR>
host, independent of whether it is an UI or not. Thus, to be able to<BR>
submit jobs to the Grid, the server hosting the Web UI must connect to<BR>
a Grid UI host to do the work.<BR>
<BR>
This routine opens a connection to a Grid UI host using an specified<BR>
username (i.e. all jobs will be run under said username). To allow the<BR>
caller to communicate with the remote end, it creates two pipes/pty, one for<BR>
input and one for output, and redirects error messages to a file.<BR>
<BR>
We need to redirect stderr to a file. This is so to avoid blocking on<BR>
reading to check for errors and to avoid (if we use PTYs) interleave<BR>
of error messages and normal I/O.<BR>
<BR>
These pipes lead to a child process that actually manages the<BR>
communication. Using a child process has several advantages: it simplifies<BR>
the communication process by offloading the comm. logic to a separate,<BR>
convenience tool, and by being able to use SSH as the child, we can increase<BR>
security taking advantage of its encryption capabilities.<BR>
<BR>
The panorama therefore will look like this:<BR>
<BR>
HTML front-end --&gt; processor.php &lt;--&gt; SSH &lt;--&gt; remote host &lt;--&gt; Grid<BR>
<BR>
This allows for better resilience: should a GridUI host be<BR>
unavailable, we can detect the error condition and try another<BR>
one. If the GridUI runs the front-end, then we have a single<BR>
point of failure, which is a no-no.<BR>
<BR>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="pdisconnect" href="grid.php.source.html#l517">pdisconnect</a>()&nbsp;&nbsp;
<a href="_functions/pdisconnect.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Close the connection with the remote Grid access point (UI node)<BR>
</b><BR>What we are going to do is close the communication pipes<BR>
and kill the child process that actually handles communication<BR>
with the remote Grid UI host (ssh).<BR>
This function returns the exit status of the connection (i.e. of<BR>
the intermediate program that handles the connection --in this<BR>
case SSH).<BR>
<BR>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="pinitialize" href="grid.php.source.html#l598">pinitialize</a>(<a href="_variables/hours.html">$hours</a>=12, <a href="_variables/minutes.html">$minutes</a>=0)&nbsp;&nbsp;
<a href="_functions/pinitialize.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Start the Grid services<BR>
</b><BR>This function starts the grid services on the remote UI server host.<BR>
This is done by unlocking the certificate that we are going to use<BR>
to run our jobs on the grid using the passphrase provided.<BR>
<BR>
We need to have a connection open with the remote grid server as the<BR>
user with whose identity we want to run the jobs. This connection is<BR>
created by Grid::pconnect().<BR>
<BR>
To ease things up, we check if we are already connected, and if we<BR>
aren't, we try to connect ourselves. That is, there is no need to<BR>
call Grid::Connect() first unless you want to do something else<BR>
on the Grid-UI before initializing the Grid.<BR>
<BR>
Grid services have a lifetime of their own. By default they are<BR>
available for 12:00 hours (that's the default value of<BR>
grid-proxy-init itself), but their duration may be fine tuned<BR>
if we have some knowledge about the time required to run our<BR>
job.<BR>
<BR>
Session duration is specified in hours+minutes. If the number of<BR>
minutes is negative, the specified minutes are substracted from<BR>
the specified hours (e.g: 1, -15 is fifteen minutes to one hour,<BR>
i.e. 45 minutes). If the total time specified is negative then<BR>
the default of 12:00 is used.<BR>
<BR>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="pdestroy" href="grid.php.source.html#l657">pdestroy</a>()&nbsp;&nbsp;
<a href="_functions/pdestroy.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Destroy remote grid identity<BR>
</b><BR>We destroy the certification we initialized so that no more jobs<BR>
can be launched under our identity.<BR>
<BR>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="pjob_submit" href="grid.php.source.html#l678">pjob_submit</a>(<a href="_variables/job.html">$job</a>)&nbsp;&nbsp;
<a href="_functions/pjob_submit.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Submit a job to the Grid<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="pjob_get_id" href="grid.php.source.html#l720">pjob_get_id</a>(<a href="_variables/job.html">$job</a>)&nbsp;&nbsp;
<a href="_functions/pjob_get_id.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="pjob_status" href="grid.php.source.html#l754">pjob_status</a>(<a href="_variables/job.html">$job</a>)&nbsp;&nbsp;
<a href="_functions/pjob_status.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>check job status<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="pjob_retrieve" href="grid.php.source.html#l768">pjob_retrieve</a>(<a href="_variables/job.html">$job</a>)&nbsp;&nbsp;
<a href="_functions/pjob_retrieve.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>retrieve results<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="initialize" href="grid.php.source.html#l805">initialize</a>(<a href="_variables/hours.html">$hours</a>=12, <a href="_variables/minutes.html">$minutes</a>=0)&nbsp;&nbsp;
<a href="_functions/initialize.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Start the Grid services<BR>
</b><BR>This function starts the grid services on the remote UI server host.<BR>
This is done by unlocking the certificate that we are going to use<BR>
to run our jobs on the grid using the passphrase provided.<BR>
<BR>
Grid services have a lifetime of their own. By default they are<BR>
available for 12:00 hours (that's the default value of<BR>
grid-proxy-init itself), but their duration may be fine tuned<BR>
if we have some knowledge about the time required to run our<BR>
job.<BR>
<BR>
Session duration is specified in hours+minutes. If the number of<BR>
minutes is negative, the specified minutes are substracted from<BR>
the specified hours (e.g: 1, -15 is fifteen minutes to one hour,<BR>
i.e. 45 minutes). If the total time specified is negative then<BR>
the default of 12:00 is used.<BR>
<BR>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="destroy" href="grid.php.source.html#l844">destroy</a>()&nbsp;&nbsp;
<a href="_functions/destroy.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Destroy remote grid identity<BR>
</b><BR>We destroy the certification we initialized so that no more jobs<BR>
can be launched under our identity.<BR>
<BR>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="job_submit" href="grid.php.source.html#l852">job_submit</a>(<a href="_variables/job.html">$job</a>, &amp;<a href="_variables/out.html">$out</a>)&nbsp;&nbsp;
<a href="_functions/job_submit.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>submit a job to the grid<BR>
</b><BR></td></tr></table>

<br>
</div>
</div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Fri Apr 15 16:46:00 2005</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.4.1</a></i></td>
	</tr>
</table>
</body></html>
